<html><head><link href="stylesheets/program.css" rel="stylesheet" title="program" type="text/css" /> <title>Source file</title></head><body bgcolor="#ffffff" text="#000000" link="#000000" vlink="#000000"><font family="Monospace"><pre><div class="schemedoc-section-comment">;;; Geometric/math functions.
;;; .section-id geometric-load
;;; - This section contains geometric/math functions</div>
<a name="tcfatob"></a>
<a name="tcfatob"></a><span><a href="../mathfunc.html#tcfatob"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">tcfatob</span> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX377" title="R5RS Skill/Skill++ form">string</a>)
  "converts a string to boolean"
  (let (obj )
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX115" title="R5RS Skill/Skill++ form">case</a> <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX377" title="R5RS Skill/Skill++ form">string</a>
   ("t" t)
   ("true" t)
   ("TRUE" t)
   ("yes" t)
   ("YES" t)
   ("T" t)
   ("True" t)
   (t nil)
  ) <span class="comment">; case</span><br /> ) <span class="comment">; let</span><br />  )<span class="comment">; atob</span><br />
<a name="tcfatol"></a>
<a name="tcfatol"></a><span><a href="../mathfunc.html#tcfatol"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">tcfatol</span> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX377" title="R5RS Skill/Skill++ form">string</a>)
  "Convert one string into a list of lists (IIlist type)"
  (let (cmd)
 (rexCompile "&#39;")
 (setq cmd (rexReplace <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX377" title="R5RS Skill/Skill++ form">string</a> "\\\"" 0))
 (rexCompile "(list")
 (setq cmd (rexReplace cmd "(" 0))
 (rexCompile "(")
 (setq cmd (rexReplace cmd "(list " 0))
 (evalstring cmd)
  )) 
<a name="tcfatot"></a>
<a name="tcfatot"></a><span><a href="../mathfunc.html#tcfatot"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">tcfatot</span> (varValue varType)
  "General function to convert to different datatypes"
  (let (value)

 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (stringp varValue)
  (setq value varValue)
   (setq value (sprintf nil "%L" varValue))
  ) 
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX115" title="R5RS Skill/Skill++ form">case</a> varType
   ("int" (atoi value))
   ("fixnum" (atoi value))
   ("integer" (atoi value))
   ("float" (atof value))
   ("flonum" (atof value))
   ("boolean" (<a class="applied-name" href="mathfunc-1.html#tcfatob" title="mathfunc">tcfatob</a> value))
   ("bool" (<a class="applied-name" href="mathfunc-1.html#tcfatob" title="mathfunc">tcfatob</a> value))
   ("symbol" (<a class="applied-name" href="mathfunc-1.html#tcfatob" title="mathfunc">tcfatob</a> value)) ("IIList" (<a class="applied-name" href="mathfunc-1.html#tcfatol" title="mathfunc">tcfatol</a> value))
   ("list" (<a class="applied-name" href="mathfunc-1.html#tcfatol" title="mathfunc">tcfatol</a> value))
   ("lst" (<a class="applied-name" href="mathfunc-1.html#tcfatol" title="mathfunc">tcfatol</a> value))
   ("string" value)
   ("char" value)
   (t value)
  ) 
  )) 
<a name="TcfGetXdim"></a><a name="TcfGetXdim"></a><span><a href="../mathfunc.html#TcfGetXdim"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfGetXdim</span> (scv @key (orientation "R0"))
  "Provides horizontal dimension of a cell view or a shape"
  (let ( (rotatedModes (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> "R90" "R270" "MYR90" "MXR90")) )

 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX340" title="R5RS Skill/Skill++ form">member</a> orientation rotatedModes)
  (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadr</a>  (trBBoxDims (<a class="applied-name" href="mathfunc-1.html#TcfGetBoundingBox" title="mathfunc">TcfGetBoundingBox</a> scv)))
   (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a>  (trBBoxDims (<a class="applied-name" href="mathfunc-1.html#TcfGetBoundingBox" title="mathfunc">TcfGetBoundingBox</a> scv)))
  )) ) 
<a name="TcfGetYdim"></a><a name="TcfGetYdim"></a><span><a href="../mathfunc.html#TcfGetYdim"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfGetYdim</span> (scv @key (orientation "R0"))
  "Provides vertical dimension of a cell view or a shape"
  (let ( (rotatedModes (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> "R90" "R270" "MYR90" "MXR90")) )

 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX340" title="R5RS Skill/Skill++ form">member</a> orientation rotatedModes)
  (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a>  (trBBoxDims (<a class="applied-name" href="mathfunc-1.html#TcfGetBoundingBox" title="mathfunc">TcfGetBoundingBox</a> scv)))
   (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadr</a>  (trBBoxDims (<a class="applied-name" href="mathfunc-1.html#TcfGetBoundingBox" title="mathfunc">TcfGetBoundingBox</a> scv)))
  )) )

<a name="TcfResizeRects"></a>
<a name="TcfResizeRects"></a><span><a href="../mathfunc.html#TcfResizeRects"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfResizeRects</span> (rectobjs left right top bottom)
  "Resizes rectangular objects"
  (let (x1 y1 x2 y2)
 (foreachs s rectobjs
  (setq x1  (difference (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">caar</a> s~>bBox) left))
  (setq x2  (plus (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">caadr</a> s~>bBox) right))
  (setq y1  (difference (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadar</a> s~>bBox) bottom))
  (setq y2  (plus (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadadr</a> s~>bBox) top))
  s~>bBox <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> x1 y1) (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> x2 y2))
  )) <span class="comment">; let</span><br />  ) <span class="comment">; smartResize</span><br />
<a name="TcfCalculateLstBoxes"></a>
<a name="TcfCalculateLstBoxes"></a><span><a href="../mathfunc.html#TcfCalculateLstBoxes"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfCalculateLstBoxes</span> (@key (lstSegPropLst (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> nil))
  (XOffset 0.0) (YOffset 0.0) (orthoBBoxDim 5.0)
  (direction "H")
  )
  (let (lstCalculatedBBoxes currentList (curX XOffset) (curY YOffset) solid space)

  (setq currentList lstSegPropLst)

  (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (oddp (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX333" title="R5RS Skill/Skill++ form">length</a> currentList))
  (setq currentList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX334" title="R5RS Skill/Skill++ form">append</a> currentList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> 0.0)))
  ) 
  (while currentList
   (setq solid (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> currentList))
   (setq currentList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX322" title="R5RS Skill/Skill++ form">cdr</a> currentList))
   (setq space (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> currentList))
   (setq currentList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX322" title="R5RS Skill/Skill++ form">cdr</a> currentList))

   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (equal direction "H")
 (progn
   (setq curX (add curX solid))
   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (plusp space)
 (setq lstCalculatedBBoxes
 (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a>
  (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> curX:curY curX+space:curY+orthoBBoxDim)
  lstCalculatedBBoxes
  )) ) (setq curX (add curX space))
  ) 
  (progn
 (setq curY (add curY solid))
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (plusp space)
  (setq lstCalculatedBBoxes
  (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a>
   (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> curX:curY curX+orthoBBoxDim:curY+space)
   lstCalculatedBBoxes
  )) ) (setq curY (add curY space))
  ) 
  )) 
 lstCalculatedBBoxes
  )) 
<a name="TcfGetOffsetsBBox2BBox"></a><a name="TcfGetOffsetsBBox2BBox"></a><span><a href="../mathfunc.html#TcfGetOffsetsBBox2BBox"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfGetOffsetsBBox2BBox</span> (rotation cellid elem)
  "Retrieves the lowerLeft offset of a bBox with respect of a cell bBox under different rotations."
  (let (offsetX offsetY)

  (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX115" title="R5RS Skill/Skill++ form">case</a> rotation
   ( ("R0")
  (setq offsetX (difference (xCoord (lowerLeft cellid~>bBox)) (xCoord (lowerLeft elem)) ))
  (setq offsetY (difference (yCoord (lowerLeft cellid~>bBox)) (yCoord (lowerLeft elem)) ))
  ) ( ("MX")
  (setq offsetX (difference (xCoord (lowerLeft cellid~>bBox)) (xCoord (lowerLeft elem)) ))
  (setq offsetY -1*(difference (yCoord (upperRight cellid~>bBox)) (yCoord (upperRight elem)) ))
  ) ( ("MY")
  (setq offsetX -1*(difference (xCoord (upperRight cellid~>bBox)) (xCoord (upperRight elem)) ))
  (setq offsetY (difference (yCoord (lowerLeft cellid~>bBox)) (yCoord (lowerLeft elem)) ))
  ) ( ("R180")
  (setq offsetX -1*(difference (xCoord (upperRight cellid~>bBox)) (xCoord (upperRight elem)) ))
  (setq offsetY -1*(difference (yCoord (upperRight cellid~>bBox)) (yCoord (upperRight elem)) ))
  ) ( ("R90")
  (setq offsetX -1*(difference (yCoord (upperRight cellid~>bBox)) (yCoord (upperRight elem)) ))
  (setq offsetY (difference (xCoord (lowerLeft cellid~>bBox)) (xCoord (lowerLeft elem)) ))
  ) ( ("R270")
  (setq offsetX (difference (yCoord (lowerLeft cellid~>bBox)) (yCoord (lowerLeft elem)) ))
  (setq offsetY -1*(difference (xCoord (upperRight cellid~>bBox)) (xCoord (upperRight elem)) ))
  ) ( ("MXR90")
  (setq offsetY (difference (xCoord (lowerLeft cellid~>bBox)) (xCoord (lowerLeft elem)) ))
  (setq offsetX (difference (yCoord (lowerLeft cellid~>bBox)) (yCoord (lowerLeft elem)) ))
  ) ( ("MYR90")
  (setq offsetY -1*(difference (xCoord (upperRight cellid~>bBox)) (xCoord (upperRight elem)) ))
  (setq offsetX -1*(difference (yCoord (upperRight cellid~>bBox)) (yCoord (upperRight elem)) ))
  )) 
 (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> offsetX offsetY)
  )) 
<a name="TcfGeomRotateShapes"></a><a name="TcfGeomRotateShapes"></a><span><a href="../mathfunc.html#TcfGeomRotateShapes"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfGeomRotateShapes</span> (cvId @key (clone t) (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX287" title="R5RS Skill/Skill++ form">angle</a> 90.0) (lstOfShapes nil) (centerPoint (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> 0.0 0.0)))
  "Creates a rotated version of a shape or an instance in a cellView"
  (let (lstShapes lstInstances pi rads)

  (setq pi (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX277" title="R5RS Skill/Skill++ form">acos</a> -1))
 (setq rads angle*pi/180)

  (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> lstOfShapes
  (setq lstShapes lstOfShapes)
   (setq lstShapes cvId~>shapes)
  ) (foreachs shape lstShapes
  (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX110" title="R5RS Skill/Skill++ form">cond</a>
   ( (equal shape->objType "rect") (dbCreatePolygon cvId shape->lpp <a class="applied-name" href="mathfunc-1.html#TcfGeomRotatePoints" title="mathfunc">TcfGeomRotatePoints</a>(<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a>(leftEdge(shape->bBox):bottomEdge(shape->bBox) rightEdge(shape->bBox):bottomEdge(shape->bBox) rightEdge(shape->bBox):topEdge(shape->bBox) leftEdge(shape->bBox):topEdge(shape->bBox)) rads ?center centerPoint)))
   ( (equal shape->objType "path") (dbCreatePath cvId shape->lpp <a class="applied-name" href="mathfunc-1.html#TcfGeomRotatePoints" title="mathfunc">TcfGeomRotatePoints</a>(shape->points rads ?center centerPoint) shape->width shape->pathStyle))
   ( (equal shape->objType "polygon") (dbCreatePolygon cvId shape->lpp <a class="applied-name" href="mathfunc-1.html#TcfGeomRotatePoints" title="mathfunc">TcfGeomRotatePoints</a>(shape->points rads ?center centerPoint)))
   ( (equal shape->objType "donut") (dbCreateDonut cvId shape->lpp <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a>(<a class="applied-name" href="mathfunc-1.html#TcfGeomRotatePoints" title="mathfunc">TcfGeomRotatePoints</a>(<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a>(shape->xy) rads ?center centerPoint)) shape->outerRadius shape->innerRadius))
   (t  (warn (pcExprToString shape->objType)))
  )) 
  (unless clone
   (mapcar 'dbDeleteObject lstOfShapes)
  ) 
  (dbSave cvId)

  )) 
<a name="TcfGeomRotatePoints"></a><a name="TcfGeomRotatePoints"></a><span><a href="../mathfunc.html#TcfGeomRotatePoints"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfGeomRotatePoints</span> (pts theta @key (center (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> 0.0 0.0)))
  (let  ((ret nil) pt xo yo xn yn) 
 (while pts
   (setq pt  (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> pts))
   (setq pts (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX322" title="R5RS Skill/Skill++ form">cdr</a> pts))
   xo <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (xCoord pt) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX251" title="R5RS Skill/Skill++ form">-</a> (xCoord center)
   yo <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (yCoord pt) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX251" title="R5RS Skill/Skill++ form">-</a> (yCoord center)

   xn <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> xo*cos(theta) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX251" title="R5RS Skill/Skill++ form">-</a> yo*sin(theta)
   yn <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> xo*sin(theta) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX249" title="R5RS Skill/Skill++ form">+</a> yo*cos(theta)
   xn <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> xn <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX249" title="R5RS Skill/Skill++ form">+</a> (xCoord center)
   yn <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> yn <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX249" title="R5RS Skill/Skill++ form">+</a> (yCoord center)

   (setq ret (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> xn yn) ret))
  )

  ret
  )) 
<a name="TcfGeomPointInPolygon"></a>
<a name="TcfGeomPointInPolygon"></a><span><a href="../mathfunc.html#TcfGeomPointInPolygon"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfGeomPointInPolygon</span> (point points)
  (let (inside ptj
   (testX (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> point))
   (testY (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadr</a> point)))
 (setq ptj (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> (last points)))
 (foreachs pti points
  (when
   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX117" title="R5RS Skill/Skill++ form">and</a>
 (nequal
  (greaterp (yCoord pti) testY)
  (greaterp (yCoord ptj) testY))
 (lessp
  testX
  (plus
   (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX258" title="R5RS Skill/Skill++ form">quotient</a>
 (times
  (difference (xCoord ptj) (xCoord pti))
  (difference testY (yCoord pti))
  )
 (difference (yCoord ptj) (yCoord pti))
  )
   (xCoord pti)
  )
  )) 
  (setq inside (null inside))
  )
  (setq ptj pti)
  )
 inside
  )
  )

<a name="TcfGeomPointOnBoundary"></a><a name="TcfGeomPointOnBoundary"></a><span><a href="../mathfunc.html#TcfGeomPointOnBoundary"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfGeomPointOnBoundary</span> (point points)
  (let (ptj iX iY jX jY
   (testX (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> point))
   (testY (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadr</a> point)))
 (setq ptj (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> (last points)))
 (null
  (forall pti points
 (progn
   (setq iX (xCoord pti))
   (setq iY (yCoord pti))
   (setq jX (xCoord ptj))
   (setq jY (yCoord ptj))
   (setq ptj pti)
   (null
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX117" title="R5RS Skill/Skill++ form">and</a>
 (geqp testX (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX248" title="R5RS Skill/Skill++ form">min</a> iX jX))
  (leqp testX (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX247" title="R5RS Skill/Skill++ form">max</a> iX jX))
  (geqp testY (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX248" title="R5RS Skill/Skill++ form">min</a> iY jY))
  (leqp testY (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX247" title="R5RS Skill/Skill++ form">max</a> iY jY))

 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX118" title="R5RS Skill/Skill++ form">or</a>
   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX117" title="R5RS Skill/Skill++ form">and</a> (equal testX iX) (equal testX jX))

   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX117" title="R5RS Skill/Skill++ form">and</a> (equal testY iY) (equal testY jY))

   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX117" title="R5RS Skill/Skill++ form">and</a> (equal testX iX) (equal testY iY))
   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX117" title="R5RS Skill/Skill++ form">and</a> (equal testX jX) (equal testY jY))

   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX117" title="R5RS Skill/Skill++ form">and</a>
 (nequal testX iX)
 (nequal testX jX)
 (nequal testY iY)
 (nequal testY jY)
 (TccEQP   (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX258" title="R5RS Skill/Skill++ form">quotient</a>
   (difference testX iX)
   (difference testY iY))
  (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX258" title="R5RS Skill/Skill++ form">quotient</a>
   (difference testX jX)
   (difference testY jY))
  )) )) )) )) )) 
<a name="TcfMathCreateArray"></a>
<a name="TcfMathCreateArray"></a><span><a href="../mathfunc.html#TcfMathCreateArray"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfMathCreateArray</span> (@rest dimensions) "Allocates a multidimensional array data structure in memory"
  (let (array)
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX117" title="R5RS Skill/Skill++ form">and</a> (integerp (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> dimensions)) (plusp (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> dimensions)))
  (progn
 array=(makeVector (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> dimensions))
 (when (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX322" title="R5RS Skill/Skill++ form">cdr</a> dimensions)
   (fors ind 0 (sub1 (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> dimensions))
   array[ind]<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a>(<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX411" title="R5RS Skill/Skill++ form">apply</a> 'TcfMathCreateArray (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX322" title="R5RS Skill/Skill++ form">cdr</a> dimensions))
  )
  ) <span class="comment">; when</span><br /> array
  )
   (error "Dimension %L must be a positive integer
" (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> dimensions))
  )) ) 
<a name="trBBoxUnion"></a><a name="trBBoxUnion"></a><span><a href="../mathfunc.html#trBBoxUnion"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">trBBoxUnion</span> (bBoxList )
  "Calculate the bounding box of an union of shapes"
  (let (llxList llyList
  urxList uryList
  minllx minlly
  maxurx maxury
  )
 llxList <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> foreachs(mapcar bBox bBoxList
 xCoord(lowerLeft(bBox )))
 llyList <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> foreachs(mapcar bBox bBoxList
 yCoord(lowerLeft(bBox )))
 urxList <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> foreachs(mapcar bBox bBoxList
 xCoord(upperRight(bBox )))
 uryList <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> foreachs(mapcar bBox bBoxList
 yCoord(upperRight(bBox )))
 minllx <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX411" title="R5RS Skill/Skill++ form">apply</a> 'min llxList)
 minlly <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX411" title="R5RS Skill/Skill++ form">apply</a> 'min llyList)
 maxurx <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX411" title="R5RS Skill/Skill++ form">apply</a> 'max urxList)
 maxury <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX411" title="R5RS Skill/Skill++ form">apply</a> 'max uryList)
 (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> minllx:minlly maxurx:maxury )
  ) <span class="comment">; let</span><br />  ) <span class="comment">; defun</span><br />
<a name="TcfGetBoundingBoxes"></a><a name="TcfGetBoundingBoxes"></a><span><a href="../mathfunc.html#TcfGetBoundingBoxes"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfGetBoundingBoxes</span> (cvId @key (layer (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> "chkBoundary" "boundary")) (transform (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> 0.0 0.0) "R0" 1.0)) (descend nil) (verbose nil) (currentDepth 0) (lstLayers nil))
  "Gets the enclosing bBox for a given layer inside a cellview for maximum level of hierarchy."
  (let (left bottom right top inst via mosaic lpp temp result (save (status optimizeTailCall)) descendlocal shapesFilter layersFilter)

 (setq layersFilter (setofs x cvId~>lpps (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX118" title="R5RS Skill/Skill++ form">or</a> (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX117" title="R5RS Skill/Skill++ form">and</a> (equal x~>layerName (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> layer))
  (equal x~>purpose (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadr</a> layer)))
   (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX340" title="R5RS Skill/Skill++ form">member</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> x~>layerName x~>purpose) lstLayers))))
 (setq layersFilter (mapcar (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX98" title="R5RS Skill/Skill++ form">lambda</a> (<span class="local-name-binding">x</span>) (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> x~>layerName x~>purpose)) layersFilter))
 
 (setq shapesFilter (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> (getSGq (setofs x cvId~>layerPurposePairs (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX340" title="R5RS Skill/Skill++ form">member</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> x~>layerName x~>purpose) layersFilter)) shapes)))

 (when layersFilter
   (sstatus optimizeTailCall t)
   (setq result nil)
   (foreachs shape shapesFilter  (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX117" title="R5RS Skill/Skill++ form">and</a> (nequal shape~>objType "label") (nequal shape~>objType "textDisplay") (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX340" title="R5RS Skill/Skill++ form">member</a> shape~>lpp layersFilter))
  (progn
 temp <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (geTransformUserBBox shape~>bBox transform)
 (setq result (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> temp result))
  )) ) 
   (setq descendlocal (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX118" title="R5RS Skill/Skill++ form">or</a> descend !result))
   (when descendlocal
  (foreachs inst cvId~>instances <span class="comment">; loop through instances</span><br />   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> inst~>objType == "inst"
 (when (dbobjectp inst~>master)
   (setq layersFilter (setofs x inst~>master~>lpps (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX340" title="R5RS Skill/Skill++ form">member</a> x layersFilter)))
   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> layersFilter
 (progn
   temp <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (<a class="applied-name" href="mathfunc-1.html#TcfGetBoundingBoxes" title="mathfunc">TcfGetBoundingBoxes</a> inst~>master ?layer layer ?transform (dbConcatTransform inst~>transform transform) ?descend descend ?verbose verbose ?currentDepth (add1 currentDepth) ?lstLayers lstLayers)
   (setq result (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX334" title="R5RS Skill/Skill++ form">append</a> result temp))
  )) (getWarn) <span class="comment">; the cvId couldn't be opened so get the warning before its printed</span><br />   )) ) 
  (foreachs via cvId~>vias <span class="comment">; loop through vias</span><br />   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (dbobjectp via~>viaHeader~>master)
 (progn
   temp <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (<a class="applied-name" href="mathfunc-1.html#TcfGetBoundingBoxes" title="mathfunc">TcfGetBoundingBoxes</a> via~>viaHeader~>master ?layer layer ?transform (dbConcatTransform (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> via~>origin via~>orient 1.0) transform) ?descend descend ?verbose verbose ?currentDepth (add1 currentDepth) ?lstLayers lstLayers)
   (setq result (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX334" title="R5RS Skill/Skill++ form">append</a> result temp))
  ) (getWarn) <span class="comment">; the cvId couldn't be opened so get the warning before its printed</span><br />  )) 
  (foreachs mosaic cvId~>mosaics <span class="comment">; loop through mosaics</span><br />   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> mosaic~>mosaicType == "simple"
 (progn
   (let (orient xy isOA newTransform mosaicTransform)
  isOA <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX117" title="R5RS Skill/Skill++ form">and</a> (isCallable 'dbGetDatabaseType) (equal (dbGetDatabaseType) "OpenAccess"))
  orient <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> mosaic~>tileArray)
  (when isOA
 mosaicTransform <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (dbConcatTransform (dbConcatTransform (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> (mapcar 'minus mosaic~>xy) "R0" 1.0) (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> 0.0 0.0) orient 1.0)) (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> mosaic~>xy "R0" 1.0))
  ) 
  (fors row 0 (sub1 mosaic~>rows)
  (fors col 0 (sub1 mosaic~>columns)
  xy <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> (plus (xCoord mosaic~>xy) (times col mosaic~>uX)) (plus (yCoord mosaic~>xy) (times row  mosaic~>uY)))
  newTransform <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> isOA dbConcatTransform(dbConcatTransform(<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a>(xy "R0" 1.0) mosaicTransform) transform) dbConcatTransform(<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a>(xy orient 1.0) transform))

  (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (dbobjectp (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> mosaic~>instanceList)~>master)
   (progn
  (setq temp (<a class="applied-name" href="mathfunc-1.html#TcfGetBoundingBoxes" title="mathfunc">TcfGetBoundingBoxes</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> mosaic~>instanceList)~>master ?layer layer ?transform newTransform ?descend descend ?verbose verbose ?currentDepth (add1 currentDepth) ?lstLayers lstLayers))
  (setq result (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX334" title="R5RS Skill/Skill++ form">append</a> result temp))
  ) (getWarn)
  )) )) )) )) 
   (sstatus optimizeTailCall status)
  ) 
 result
  )) 
<a name="TcfGetBoundingBox"></a><a name="TcfGetBoundingBox"></a><span><a href="../mathfunc.html#TcfGetBoundingBox"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfGetBoundingBox</span> (cvId @key (layer (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> "chkBoundary" "boundary")) (transform (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> 0.0 0.0) "R0" 1.0)) (descend nil))
  "Gets the enclosing bBox for a given layer inside a cellview for maximum level of hierarchy."
  (let (left bottom right top inst via mosaic lpp temp result (save (status optimizeTailCall)) descendlocal shapesFilter layersFilter)

 (setq shapesFilter (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> (getSGq (setofs x cvId~>layerPurposePairs (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX117" title="R5RS Skill/Skill++ form">and</a> (equal x~>layerName (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> layer))
   (equal x~>purpose (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadr</a> layer)))) shapes)))

 (setq layersFilter (setofs x cvId~>lpps (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX117" title="R5RS Skill/Skill++ form">and</a> (equal x~>layerName (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> layer))
   (equal x~>purpose (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadr</a> layer)))))

 (when layersFilter
   (sstatus optimizeTailCall t)
   (foreachs shape shapesFilter  (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX117" title="R5RS Skill/Skill++ form">and</a> (nequal shape~>objType "label") (nequal shape~>objType "textDisplay") (equal shape~>lpp layer))
  (progn
 temp <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (geTransformUserBBox shape~>bBox transform)
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (!floatp(left) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">caar</a>(temp) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX236" title="R5RS Skill/Skill++ form">&lt;</a> left )
  left <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">caar</a>(temp)
  )
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (!floatp(bottom) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadar</a>(temp) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX236" title="R5RS Skill/Skill++ form">&lt;</a> bottom )
  bottom <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadar</a>(temp)
  )
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (!floatp(right) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">caadr</a>(temp) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX237" title="R5RS Skill/Skill++ form">&gt;</a> right )
  right <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">caadr</a>(temp)
  )
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (!floatp(top) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadadr</a>(temp) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX237" title="R5RS Skill/Skill++ form">&gt;</a> top )
  top <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadadr</a>(temp)
  )
  )) ) 
   (setq descendlocal (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX118" title="R5RS Skill/Skill++ form">or</a> descend !floatp(left)))
   (when descendlocal
  (foreachs inst cvId~>instances <span class="comment">; loop through instances</span><br />   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> inst~>objType == "inst"
 (when (dbobjectp inst~>master)
   (setq layersFilter (setofs x inst~>master~>lpps (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX117" title="R5RS Skill/Skill++ form">and</a> (equal x~>layerName (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> layer))
  (equal x~>purpose (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadr</a> layer)))))
   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> layersFilter
 (progn
   temp <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (<a class="applied-name" href="mathfunc-1.html#TcfGetBoundingBox" title="mathfunc">TcfGetBoundingBox</a> inst~>master ?layer layer ?transform (dbConcatTransform inst~>transform transform) ?descend descend)
   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (!floatp(left) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">caar</a>(temp) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX236" title="R5RS Skill/Skill++ form">&lt;</a> left )
 left <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">caar</a>(temp)
  )
   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (!floatp(bottom) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadar</a>(temp) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX236" title="R5RS Skill/Skill++ form">&lt;</a> bottom )
 bottom <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadar</a>(temp)
  )
   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (!floatp(right) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">caadr</a>(temp) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX237" title="R5RS Skill/Skill++ form">&gt;</a> right )
 right <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">caadr</a>(temp)
  )
   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (!floatp(top) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadadr</a>(temp) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX237" title="R5RS Skill/Skill++ form">&gt;</a> top )
 top <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadadr</a>(temp)
  )
  )) 
   (getWarn) <span class="comment">; the cvId couldn't be opened so get the warning before its printed</span><br />   )) ) 
  (foreachs via cvId~>vias <span class="comment">; loop through vias</span><br />   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (dbobjectp via~>viaHeader~>master)
 (progn
   temp <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (<a class="applied-name" href="mathfunc-1.html#TcfGetBoundingBox" title="mathfunc">TcfGetBoundingBox</a> via~>viaHeader~>master ?layer layer ?transform (dbConcatTransform (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> via~>origin via~>orient 1.0) transform) ?descend descend)
   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (!floatp(left) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">caar</a>(temp) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX236" title="R5RS Skill/Skill++ form">&lt;</a> left )
 left <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">caar</a>(temp)
  )
   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (!floatp(bottom) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadar</a>(temp) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX236" title="R5RS Skill/Skill++ form">&lt;</a> bottom )
 bottom <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadar</a>(temp)
  )
   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (!floatp(right) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">caadr</a>(temp) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX237" title="R5RS Skill/Skill++ form">&gt;</a> right )
 right <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">caadr</a>(temp)
  )
   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (!floatp(top) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadadr</a>(temp) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX237" title="R5RS Skill/Skill++ form">&gt;</a> top )
 top <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadadr</a>(temp)
  )
  ) (getWarn) <span class="comment">; the cvId couldn't be opened so get the warning before its printed</span><br />  )) 
  (foreachs mosaic cvId~>mosaics <span class="comment">; loop through mosaics</span><br />   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> mosaic~>mosaicType == "simple"
 (progn
   (let (orient xy isOA newTransform mosaicTransform)
  isOA <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX117" title="R5RS Skill/Skill++ form">and</a> (isCallable 'dbGetDatabaseType) (equal (dbGetDatabaseType) "OpenAccess"))
  orient <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> mosaic~>tileArray)
  (when isOA
 mosaicTransform <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (dbConcatTransform (dbConcatTransform (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> (mapcar 'minus mosaic~>xy) "R0" 1.0) (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> 0.0 0.0) orient 1.0)) (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> mosaic~>xy "R0" 1.0))
  ) 
  (fors row 0 (sub1 mosaic~>rows)
  (fors col 0 (sub1 mosaic~>columns)
  xy <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> (plus (xCoord mosaic~>xy) (times col mosaic~>uX)) (plus (yCoord mosaic~>xy) (times row  mosaic~>uY)))
  newTransform <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> isOA dbConcatTransform(dbConcatTransform(<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a>(xy "R0" 1.0) mosaicTransform) transform) dbConcatTransform(<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a>(xy orient 1.0) transform))

  (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (dbobjectp (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> mosaic~>instanceList)~>master)
   (progn
  temp <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (<a class="applied-name" href="mathfunc-1.html#TcfGetBoundingBox" title="mathfunc">TcfGetBoundingBox</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> mosaic~>instanceList)~>master ?layer layer ?transform newTransform ?descend descend)
  (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> !floatp(left) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">caar</a>(temp) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX236" title="R5RS Skill/Skill++ form">&lt;</a> left then
   left <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">caar</a>(temp)
  )
  (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> !floatp(bottom) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadar</a>(temp) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX236" title="R5RS Skill/Skill++ form">&lt;</a> bottom then
   bottom <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadar</a>(temp)
  )
  (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> !floatp(right) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">caadr</a>(temp) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX237" title="R5RS Skill/Skill++ form">&gt;</a> right then
   right <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">caadr</a>(temp)
  )
  (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> !floatp(top) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadadr</a>(temp) <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX237" title="R5RS Skill/Skill++ form">&gt;</a> top then
   top <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadadr</a>(temp)
  )
  ) (getWarn)
  )) )) )) )) 
   (sstatus optimizeTailCall t)

  ) 
  (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX118" title="R5RS Skill/Skill++ form">or</a> (equal left right) (equal bottom top))
  (progn
 (TccWarn "TcfGetBoundingBox" (sprintf nil "Input cell %L in library %L does not have shapes on specified layer %L." cvId~>cellName cvId~>libName (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> layer)))
 result <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> cvId~>bBox  ) result <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> left:bottom right:top)
  ) 
 result
  )) 
<a name="TcfRemoveLstDuplicateItems"></a><a name="TcfRemoveLstDuplicateItems"></a><span><a href="../mathfunc.html#TcfRemoveLstDuplicateItems"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfRemoveLstDuplicateItems</span> (A)
  (let (B)
 B=nil
 (while A!=nil
   B=cons(nth(0 A) B)
   A=remove(nth(0 A) A)
  ) B
  )) <a name="TcfCDSpace2PitchPropList"></a>
<a name="TcfCDSpace2PitchPropList"></a><span><a href="../mathfunc.html#TcfCDSpace2PitchPropList"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfCDSpace2PitchPropList</span> (lstCDSpace)
  (let (PitchPropList)

  (fors i 0 (sub1 (difference (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX333" title="R5RS Skill/Skill++ form">length</a> lstCDSpace) 2))
 (when (evenp i)
   (setq PitchPropList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> (plus (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX258" title="R5RS Skill/Skill++ form">quotient</a> (nth i lstCDSpace) 2) (nth (add1 i) lstCDSpace) (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX258" title="R5RS Skill/Skill++ form">quotient</a> (nth (plus i 2) lstCDSpace) 2)) PitchPropList))))

 (setq PitchPropList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> (plus (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX258" title="R5RS Skill/Skill++ form">quotient</a> (nth 0 lstCDSpace) 2) (nth 1 lstCDSpace) (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX258" title="R5RS Skill/Skill++ form">quotient</a> (nth 2 lstCDSpace) 2)) PitchPropList))
 (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX335" title="R5RS Skill/Skill++ form">reverse</a> PitchPropList)

  )) <a name="TcfCDSpace2WXPropList"></a>
<a name="TcfCDSpace2WXPropList"></a><span><a href="../mathfunc.html#TcfCDSpace2WXPropList"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfCDSpace2WXPropList</span> (lstCDSpace)
  (let (WXPropList)

  (fors i 0 (sub1 (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX333" title="R5RS Skill/Skill++ form">length</a> lstCDSpace))
 (when (evenp i)
   (setq WXPropList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> (nth i lstCDSpace)) WXPropList))))
 (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX335" title="R5RS Skill/Skill++ form">reverse</a> WXPropList)

  )) <a name="TcfGetPartitionedSegment"></a>
<a name="TcfGetPartitionedSegment"></a><span><a href="../mathfunc.html#TcfGetPartitionedSegment"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfGetPartitionedSegment</span> (fullSegment layer @key (mode "center"))
  (let (liner minSeg eteSpacing numSegs <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX259" title="R5RS Skill/Skill++ form">remainder</a> (SegPropList nil) p)

  (setq minSeg (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX411" title="R5RS Skill/Skill++ form">apply</a> 'max (nth 6 (TcfGetFillerCellInfo layer))))
 (setq eteSpacing (TccLayerInfo nil "minSpacingETE" layer))
 (setq numSegs (add1 (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX265" title="R5RS Skill/Skill++ form">floor</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX258" title="R5RS Skill/Skill++ form">quotient</a> (difference fullSegment minSeg) (plus minSeg eteSpacing)))))

 (TccInfo "TcfGetPartitionedSegment" (sprintf nil "Obtained numSegs=%L" numSegs))

 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (oddp numSegs) (setq numSegs (sub1 numSegs)))
 (setq <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX259" title="R5RS Skill/Skill++ form">remainder</a> (fullSegment-numSegs*minSeg-(numSegs-1)*eteSpacing))
 (setq liner (plus (times 2 minSeg) eteSpacing <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX259" title="R5RS Skill/Skill++ form">remainder</a>))

 (setq p 0)
 (while (lessp p numSegs)
   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX115" title="R5RS Skill/Skill++ form">case</a> mode
  ("end"
   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (equal p (sub1 (sub1 numSegs)))
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (TccGEQP (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX258" title="R5RS Skill/Skill++ form">quotient</a> (difference liner eteSpacing) 2) minSeg)
  (progn
 (setq SegPropList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> minSeg SegPropList))
 (setq SegPropList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> eteSpacing SegPropList))
 (setq SegPropList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> (difference liner eteSpacing minSeg) SegPropList))
 (setq p (add1 p))
  ) (setq SegPropList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> (plus minSeg <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX259" title="R5RS Skill/Skill++ form">remainder</a>) SegPropList))
  ) (setq SegPropList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> minSeg SegPropList))
  )) ("start"
   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (equal p 0)
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (TccGEQP (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX258" title="R5RS Skill/Skill++ form">quotient</a> (difference liner eteSpacing) 2) minSeg)
  (progn
 (setq SegPropList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> (difference liner eteSpacing minSeg) SegPropList))
 (setq SegPropList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> eteSpacing SegPropList))
 (setq SegPropList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> minSeg SegPropList))
 (setq p (add1 p))
  ) (setq SegPropList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> (plus minSeg <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX259" title="R5RS Skill/Skill++ form">remainder</a>) SegPropList))
  ) (setq SegPropList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> minSeg SegPropList))
  )) ("longmiddle"
   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX117" title="R5RS Skill/Skill++ form">and</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX304" title="R5RS Skill/Skill++ form">not</a> (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX118" title="R5RS Skill/Skill++ form">or</a> (equal p (sub1 (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX258" title="R5RS Skill/Skill++ form">quotient</a> numSegs 2))) (equal p (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX258" title="R5RS Skill/Skill++ form">quotient</a> numSegs 2)))) (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX304" title="R5RS Skill/Skill++ form">not</a> (TccEQP <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX259" title="R5RS Skill/Skill++ form">remainder</a> 0.0)))
 (progn
   (setq SegPropList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> minSeg SegPropList))
  ) (progn
 (setq SegPropList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> liner SegPropList))
 (setq p (add1 p))
  )) ) (t
   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX117" title="R5RS Skill/Skill++ form">and</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX304" title="R5RS Skill/Skill++ form">not</a> (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX118" title="R5RS Skill/Skill++ form">or</a> (equal p (sub1 (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX258" title="R5RS Skill/Skill++ form">quotient</a> numSegs 2))) (equal p (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX258" title="R5RS Skill/Skill++ form">quotient</a> numSegs 2)))) (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX304" title="R5RS Skill/Skill++ form">not</a> (TccEQP <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX259" title="R5RS Skill/Skill++ form">remainder</a> 0.0)))
 (progn
   (setq SegPropList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> minSeg SegPropList))
  ) (progn
  (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (TccGEQP (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX258" title="R5RS Skill/Skill++ form">quotient</a> (difference liner eteSpacing) 2) minSeg)
  (progn
 (setq SegPropList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX258" title="R5RS Skill/Skill++ form">quotient</a> (difference liner eteSpacing) 2) SegPropList))
 (setq SegPropList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> eteSpacing SegPropList))
 (setq SegPropList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX258" title="R5RS Skill/Skill++ form">quotient</a> (difference liner eteSpacing) 2) SegPropList))
  ) (setq SegPropList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> liner SegPropList))
  ) (setq p (add1 p))
  )) )) (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (lessp p (sub1 numSegs)) (setq SegPropList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> eteSpacing SegPropList)))
   (setq p (add1 p))
  ) 
  (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> SegPropList)
  (setq SegPropList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX335" title="R5RS Skill/Skill++ form">reverse</a> SegPropList))
   fullSegment
  ) 
  )) <a name="TcfGetFillerTracks2Distance"></a>
<a name="TcfGetFillerTracks2Distance"></a><span><a href="../mathfunc.html#TcfGetFillerTracks2Distance"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfGetFillerTracks2Distance</span> (layerName numSkipTracks @key (oppRefSide nil))
  (let ((offset 0.0) fillerCellInfo tmpList lstCDSpace offsetXY)

 (TccInfo "TcfGetFillerTracks2Distance" (sprintf nil "Converting %L tracks for layer %L on the filler cell." numSkipTracks layerName))

  (setq fillerCellInfo (TcfGetFillerCellInfo layerName))
 (when (greaterp numSkipTracks (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX258" title="R5RS Skill/Skill++ form">quotient</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX333" title="R5RS Skill/Skill++ form">length</a> (nth 2 fillerCellInfo)) 2))
   (TccWarn "TcfGetFillerTracks2Distance" "You are exceeding the maximum number of tracks that are present on the filler cell.")
   (error "Exceeded number of tracks on filler cell")
  ) 
 (setq lstCDSpace (nth 2 fillerCellInfo))
 (setq offsetXY (nth 4 fillerCellInfo))

  (when oppRefSide
   (setq offsetXY (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX335" title="R5RS Skill/Skill++ form">reverse</a> lstCDSpace))/2 (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX335" title="R5RS Skill/Skill++ form">reverse</a> lstCDSpace))/2))
   (setq lstCDSpace (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX322" title="R5RS Skill/Skill++ form">cdr</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX335" title="R5RS Skill/Skill++ form">reverse</a> lstCDSpace)))
  ) 
  (fors k 0 (difference (times numSkipTracks 2) 2)
 (setq tmpList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> (nth k lstCDSpace) tmpList))
  ) 
  (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (equal (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX333" title="R5RS Skill/Skill++ form">length</a> tmpList) 1)
  (setq tmpList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> 0.0 tmpList))
  ) 
  (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> tmpList
  (setq offset (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (equal "pgd" (nth 5 fillerCellInfo)) (xCoord offsetXY) (yCoord offsetXY))<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX249" title="R5RS Skill/Skill++ form">+</a>(<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX411" title="R5RS Skill/Skill++ form">apply</a> 'plus tmpList)<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX249" title="R5RS Skill/Skill++ form">+</a>(<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX258" title="R5RS Skill/Skill++ form">quotient</a> (nth (difference (times numSkipTracks 2) 1) lstCDSpace) 2))
   (setq offset 0.0)
  ) offset
  )) 
<a name="TcfLayerSize"></a><a name="TcfLayerSize"></a><span><a href="../mathfunc.html#TcfLayerSize"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfLayerSize</span> (cv lpp dbIdList xVal yVal)
  "Similar to dbLayerSize but allows different sizing for x and y =&gt; d_dbId"
  (let ((tempList nil) (outList nil) (pointListAll nil) pointList p shapePoints)
 (foreachs shape dbIdList
  (setq pointList nil)
  (when (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX118" title="R5RS Skill/Skill++ form">or</a> (equal shape~>objType "rect") (equal shape~>objType "polygon"))
 (fors i 0 (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX333" title="R5RS Skill/Skill++ form">length</a> (setq shapePoints (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (equal shape~>objType "rect") shape~>bBox shape~>points)))-1
 (setq p (nth i shapePoints))
  (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX115" title="R5RS Skill/Skill++ form">case</a> (TccWhichQuadrant cv shape p)
   ((1 -3)
 (setq p (rodAddPoints p -xVal:-yVal)))
   ((2 -4)
 (setq p (rodAddPoints p xVal:-yVal)))
   ((3 -1)
 (setq p (rodAddPoints p xVal:yVal)))
   ((4 -2)
 (setq p (rodAddPoints p -xVal:yVal)))
   (12
 (setq p (rodAddPoints p 0.0:-yVal))
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (zerop i)
  (when (TccEQP (xCoord p) (xCoord (nth (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX333" title="R5RS Skill/Skill++ form">length</a> shapePoints)-1 shapePoints)))
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX115" title="R5RS Skill/Skill++ form">case</a> (TccWhichQuadrant cv shape (nth (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX333" title="R5RS Skill/Skill++ form">length</a> shapePoints)-1 shapePoints))
   ((1 -2 -3 4)
 (setq p (rodAddPoints p -xVal:0.0)))
   ((-1 2 3 -4)
 (setq p (rodAddPoints p xVal:0.0)))))
   (when (TccEQP (xCoord p) (xCoord (nth i-1 shapePoints)))
  (setq p (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> (xCoord (nth 0 pointList)) (yCoord p)))))
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (TccEQP i (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX333" title="R5RS Skill/Skill++ form">length</a> shapePoints)-1)
  (when (TccEQP (xCoord p) (xCoord (nth 0 shapePoints)))
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX115" title="R5RS Skill/Skill++ form">case</a> (TccWhichQuadrant cv shape (xCoord (nth 0 shapePoints)))
   ((1 -2 -3 4)
 (setq p (rodAddPoints p -xVal:0.0)))
   ((-1 2 3 -4)
 (setq p (rodAddPoints p xVal:0.0)))))
   (when (TccEQP (xCoord p) (xCoord (nth i+1 shapePoints)))
  (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX115" title="R5RS Skill/Skill++ form">case</a> (TccWhichQuadrant cv shape (nth i+1 shapePoints))
 ((1 -2 -3 4)
  (setq p (rodAddPoints p -xVal:0.0)))
 ((-1 2 3 -4)
  (setq p (rodAddPoints p xVal:0.0)))))))
   (23
 (setq p (rodAddPoints p xVal:0.0))
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (zerop i)
  (when (TccEQP (yCoord p) (yCoord (nth (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX333" title="R5RS Skill/Skill++ form">length</a> shapePoints)-1 shapePoints)))
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX115" title="R5RS Skill/Skill++ form">case</a> (TccWhichQuadrant cv shape (nth (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX333" title="R5RS Skill/Skill++ form">length</a> shapePoints)-1 shapePoints))
   ((1 2 -3 -4)
 (setq p (rodAddPoints p 0.0:-yVal)))
   ((-1 -2 3 4)
 (setq p (rodAddPoints p 0.0:yVal)))))
   (when (TccEQP (yCoord p) (yCoord (nth i-1 shapePoints)))
  (setq p (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> (xCoord p) (yCoord (nth 0 pointList))))))
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (TccEQP i (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX333" title="R5RS Skill/Skill++ form">length</a> shapePoints)-1)
  (when (TccEQP (yCoord p) (yCoord (nth 0 shapePoints)))
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX115" title="R5RS Skill/Skill++ form">case</a> (TccWhichQuadrant cv shape (nth 0 shapePoints))
   ((1 2 -3 -4)
 (setq p (rodAddPoints p 0.0:-yVal)))
   ((-1 -2 3 4)
 (setq p (rodAddPoints p 0.0:yVal)))))
   (when (TccEQP (yCoord p) (yCoord (nth i+1 shapePoints)))
  (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX115" title="R5RS Skill/Skill++ form">case</a> (TccWhichQuadrant cv shape (nth i+1 shapePoints))
 ((1 2 -3 -4)
  (setq p (rodAddPoints p 0.0:-yVal)))
 ((-1 -2 3 4)
  (setq p (rodAddPoints p 0.0:yVal)))))))
   (34
 (setq p (rodAddPoints p 0.0:yVal))
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (zerop i)
  (when (TccEQP (xCoord p) (xCoord (nth (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX333" title="R5RS Skill/Skill++ form">length</a> shapePoints)-1 shapePoints)))
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX115" title="R5RS Skill/Skill++ form">case</a> (TccWhichQuadrant cv shape (nth (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX333" title="R5RS Skill/Skill++ form">length</a> shapePoints)-1 shapePoints))
   ((1 -2 -3 4)
 (setq p (rodAddPoints p -xVal:0.0)))
   ((-1 2 3 -4)
 (setq p (rodAddPoints p xVal:0.0)))))
   (when (TccEQP (xCoord p) (xCoord (nth i-1 shapePoints)))
  (setq p (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> (xCoord (nth 0 pointList)) (yCoord p)))))
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (TccEQP i (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX333" title="R5RS Skill/Skill++ form">length</a> shapePoints)-1)
  (when (TccEQP (xCoord p) (xCoord (nth 0 shapePoints)))
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX115" title="R5RS Skill/Skill++ form">case</a> (TccWhichQuadrant cv shape (xCoord (nth 0 shapePoints)))
   ((1 -2 -3 4)
 (setq p (rodAddPoints p -xVal:0.0)))
   ((-1 2 3 -4)
 (setq p (rodAddPoints p xVal:0.0)))))
   (when (TccEQP (xCoord p) (xCoord (nth i+1 shapePoints)))
  (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX115" title="R5RS Skill/Skill++ form">case</a> (TccWhichQuadrant cv shape (nth i+1 shapePoints))
 ((1 -2 -3 4)
  (setq p (rodAddPoints p -xVal:0.0)))
 ((-1 2 3 -4)
  (setq p (rodAddPoints p xVal:0.0)))))))
   (41
 (setq p (rodAddPoints p -xVal:0.0))
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (zerop i)
  (when (TccEQP (yCoord p) (yCoord (nth (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX333" title="R5RS Skill/Skill++ form">length</a> shapePoints)-1 shapePoints)))
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX115" title="R5RS Skill/Skill++ form">case</a> (TccWhichQuadrant cv shape (nth (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX333" title="R5RS Skill/Skill++ form">length</a> shapePoints)-1 shapePoints))
   ((1 2 -3 -4)
 (setq p (rodAddPoints p 0.0:-yVal)))
   ((-1 -2 3 4)
 (setq p (rodAddPoints p 0.0:yVal)))))
   (when (TccEQP (yCoord p) (yCoord (nth i-1 shapePoints)))
  (setq p (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> (xCoord p) (yCoord (nth 0 pointList))))))
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (TccEQP i (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX333" title="R5RS Skill/Skill++ form">length</a> shapePoints)-1)
  (when (TccEQP (yCoord p) (yCoord (nth 0 shapePoints)))
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX115" title="R5RS Skill/Skill++ form">case</a> (TccWhichQuadrant cv shape (nth 0 shapePoints))
   ((1 2 -3 -4)
 (setq p (rodAddPoints p 0.0:-yVal)))
   ((-1 -2 3 4)
 (setq p (rodAddPoints p 0.0:yVal)))))
   (when (TccEQP (yCoord p) (yCoord (nth i+1 shapePoints)))
  (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX115" title="R5RS Skill/Skill++ form">case</a> (TccWhichQuadrant cv shape (nth i+1 shapePoints))
 ((1 2 -3 -4)
  (setq p (rodAddPoints p 0.0:-yVal)))
 ((-1 -2 3 4)
  (setq p (rodAddPoints p 0.0:yVal)))))))
   (13
 (TccInfo "TcfLayerSize" (sprintf nil "Point %L dropped from shape - quad 13" (nth i shapePoints)))
 (setq p nil))
   (24
 (TccInfo "TcfLayerSize" (sprintf nil "Point %L dropped from shape - quad 24" (nth i shapePoints)))
 (setq p nil))
   (0
 (TccInfo "TcfLayerSize" (sprintf nil "Point %L dropped from shape - quad 0" (nth i shapePoints)))
 (setq p nil)))
  (when p
   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> pointList
 (setq pointList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> p pointList))
  (setq pointList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> p)))))
 (unless (atom (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> pointList))
   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> pointListAll
 (setq pointListAll (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> pointList pointListAll))
  (setq pointListAll (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> pointList))))))
 (foreachs elem pointListAll
  (unless (atom (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> elem))
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX110" title="R5RS Skill/Skill++ form">cond</a>
  ((equal (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX333" title="R5RS Skill/Skill++ form">length</a> elem) 2)
   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> tempList
 (setq tempList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> (dbCreateRect cv lpp elem) tempList))
  (setq tempList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> (dbCreateRect cv lpp elem)))))
  ((greaterp (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX333" title="R5RS Skill/Skill++ form">length</a> elem) 2)
   (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> tempList
 (setq tempList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> (dbCreatePolygon cv lpp elem) tempList))
  (setq tempList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> (dbCreatePolygon cv lpp elem)))))
  (t
   t))))
 (foreachs elem tempList
  (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> outList
   (setq outList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> (dbLayerAnd cv lpp (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> elem) (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> elem) 4000) outList))
 (setq outList (dbLayerAnd cv lpp (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> elem) (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> elem) 4000)))
  (dbDeleteObject elem))
 (TccFlattenList outList)))

<a name="TcfGetMinXPoints"></a><span></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfGetMinXPoints</span> (ptList)
  (let ((minVal 10000.0))
 (foreachs pt ptList
  (when (lessp (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> pt) minVal)
 (setq minVal (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> pt))))
 minVal))

<a name="TcfGetMaxXPoints"></a><span></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfGetMaxXPoints</span> (ptList)
  (let ((maxVal -10000.0))
 (foreachs pt ptList
  (when (greaterp (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> pt) maxVal)
 (setq maxVal (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> pt))))
 maxVal))

<a name="TcfGetRodBBox"></a><span></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfGetRodBBox</span> (cv fstr flpp)
  (let (x0 x1 y0 y1 names rodNamedObjs llList urList (save (status optimizeTailCall)))
 (sstatus optimizeTailCall t)
 (setq rodNamedObjs
 (TccRodGetNamedShapes ?cvId cv ?filterStr fstr ?filterLpp flpp ?returnRod t))
 (setq llList rodNamedObjs~>lowerLeft)
 (setq urList rodNamedObjs~>upperRight)
 (setq x0 (<a class="applied-name" href="mathfunc-1.html#TcfGetMinXPoints" title="mathfunc">TcfGetMinXPoints</a> llList))
 (setq x1 (<a class="applied-name" href="mathfunc-1.html#TcfGetMaxXPoints" title="mathfunc">TcfGetMaxXPoints</a> urList))
 (sstatus optimizeTailCall save)
 (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> x0 (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadr</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> (getSGq cv bBox))))
 (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> x1 (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadr</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadr</a> (getSGq cv bBox)))))))
</pre></font><div>&nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p></div></body></html>