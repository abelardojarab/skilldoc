<html><head><link href="stylesheets/program.css" rel="stylesheet" title="program" type="text/css" /> <title>Source file</title></head><body bgcolor="#ffffff" text="#000000" link="#000000" vlink="#000000"><font family="Monospace"><pre><a name="TcfCreateFillerGuides"></a><a name="TcfCreateFillerGuides"></a><span><a href="../tools1func.html#TcfCreateFillerGuides"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfCreateFillerGuides</span> (cvId layer)
  (let (fillBBox OffsetX OffsetY eteSpacing shapes)

 (TccInfo "TcfCreateFillerGuides" (sprintf nil "*** Creating filler guides for layer = %L ***" layer))
 (setq fillBBox (TcfGetBoundingBox cvId))
 (TccInfo "TcfCreateFillerGuides" (sprintf nil "Detected a layout bBox = %L" fillBBox))
 (setq OffsetX
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (TcfGetIsPGD layer)
  (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> (nth 8 (TcfGetFillerCellInfo layer ?customLib (TcfXmlFind (TcfGetProjectName) "stacked_filler_sea" "Library") ?customCell (TcfXmlFind (TcfGetProjectName) "stacked_filler_sea" "CellName"))))
   (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> (nth 7 (TcfGetFillerCellInfo layer ?customLib (TcfXmlFind (TcfGetProjectName) "stacked_filler_sea" "Library") ?customCell (TcfXmlFind (TcfGetProjectName) "stacked_filler_sea" "CellName"))))
  ))
  (setq OffsetY
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (TcfGetIsPGD layer)
  (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> (nth 7 (TcfGetFillerCellInfo layer ?customLib (TcfXmlFind (TcfGetProjectName) "stacked_filler_sea" "Library") ?customCell (TcfXmlFind (TcfGetProjectName) "stacked_filler_sea" "CellName"))))
   (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> (nth 8 (TcfGetFillerCellInfo layer ?customLib (TcfXmlFind (TcfGetProjectName) "stacked_filler_sea" "Library") ?customCell (TcfXmlFind (TcfGetProjectName) "stacked_filler_sea" "CellName"))))
  ))
 (setq eteSpacing (TccLayerInfo nil "minSpacingETE" layer))

 (TccInfo "TcfCreateFillerGuides" (sprintf nil "OffsetX = %L, OffsetY = %L" OffsetX OffsetY))
 (setq shapes (TcfCreateArrayLineMultiLPP
   ?cv cvId
   ?lpp (mapcar (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX98" title="R5RS Skill/Skill++ form">lambda</a> (<span class="local-name-binding">x</span>) (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> x (TcfGetDefaultLPPGuidePurpose ?cvId cvId))) (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadr</a> (TcfGetFillerCellInfo layer)))
   ?CDSpacePropList (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (nth 2 (TccLayerInfo nil "filler" layer))
   (nth 2 (TccLayerInfo nil "filler" layer))
 (nth 2 (TcfGetFillerCellInfo layer))) ?segProp (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a>
 (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a>
  (difference (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (TcfGetIsPGD layer)
   (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadr</a> (trBBoxDims fillBBox))
 (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> (trBBoxDims fillBBox)))
  (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX411" title="R5RS Skill/Skill++ form">apply</a> 'plus (nth 7 (TcfGetFillerCellInfo layer ?customLib (TcfXmlFind (TcfGetProjectName) "stacked_filler_sea" "Library") ?customCell (TcfXmlFind (TcfGetProjectName) "stacked_filler_sea" "CellName"))))
  ) eteSpacing
  )) ?trimNumTracks t

   ?direction (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (TcfGetIsPGD layer) "V" "H")
   ?offsetX (plus (xCoord (lowerLeft fillBBox)) OffsetX)
   ?offsetY (plus (yCoord (lowerLeft fillBBox)) OffsetY)
   ?shapesOnly t

   ?offsetAlign "CD"

   ?fillBBox fillBBox)) 
 shapes
  )) <a name="TcfCreateFillerGuidesGUI"></a>
<a name="TcfCreateFillerGuidesGUI"></a><span><a href="../tools1func.html#TcfCreateFillerGuidesGUI"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfCreateFillerGuidesGUI</span> (obj )
  (let (layerField guideForm comPat1m comPat1t comPat1d comPat1p validLayers fullSetLayers lstValidGuides clearGuides)
  (setq comPat1m (pcreCompile "^metal")) (setq comPat1t (pcreCompile "^tm")) (setq comPat1d (pcreCompile "^diff")) (setq comPat1p (pcreCompile "^poly")) (setq lstValidGuides
 (mapcar (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX98" title="R5RS Skill/Skill++ form">lambda</a> (<span class="local-name-binding">x</span>) (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> x))
   (setofs layers (leGetValidLayerList (techGetTechFile (ddGetObj (TccLib "tech")))) (equal (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadr</a> layers) (TcfGetDefaultLPPGuidePurpose)))
  )) (setq fullSetLayers (setofs x (TcfGetDefaultKeepGenAwayLayers) (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX340" title="R5RS Skill/Skill++ form">member</a> x lstValidGuides)))
 (setq validLayers (sort (setofs x fullSetLayers (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX118" title="R5RS Skill/Skill++ form">or</a> (pcreExecute comPat1m x) (pcreExecute comPat1p x) (pcreExecute comPat1d x) (pcreExecute comPat1p x))) 'alphalessp))
 (setq layerField
 (hiCreateCyclicField
  ?name 'layerField
  ?prompt  "Create guides for layer:"
  ?choices (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX320" title="R5RS Skill/Skill++ form">cons</a> "All guides" validLayers)
  ?defValue   (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX321" title="R5RS Skill/Skill++ form">car</a> validLayers)))
 (setq clearGuides
 (hiCreateButton
  ?name 'clearGuides
  ?buttonText "Delete all guides (all layers)"
  ?callback "{ (TcfClearFillerGuides guideForm) }"))
 (setq guideForm (hiCreateAppForm
   ?name 'guideForm
   ?fields (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> layerField clearGuides)
   ?formTitle "QRE filler guides creator"
   ?callback "{ (TcfCreateFillerGuidesGUICB guideForm) }"))

 guideForm->validLayers <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> validLayers
 guideForm->cvId <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (geGetEditCellView)
 guideForm->lstGuideShapes <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> nil
 (hiDisplayForm 'guideForm)
 t
  )) <a name="TcfCreateFillerGuidesGUICB"></a>
<a name="TcfCreateFillerGuidesGUICB"></a><span><a href="../tools1func.html#TcfCreateFillerGuidesGUICB"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfCreateFillerGuidesGUICB</span> (form)
  (let (obj )
 (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (equal form->layerField->value "All guides")
  (progn
 (foreachs layer (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX322" title="R5RS Skill/Skill++ form">cdr</a> form->validLayers)
  form->lstGuideShapes <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX334" title="R5RS Skill/Skill++ form">append</a> (<a class="applied-name" href="tools1func-1.html#TcfCreateFillerGuides" title="tools1func">TcfCreateFillerGuides</a> form->cvId layer)
   form->lstGuideShapes)) ) (progn
  form->lstGuideShapes <a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX235" title="R5RS Skill/Skill++ form">=</a> (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX334" title="R5RS Skill/Skill++ form">append</a> (<a class="applied-name" href="tools1func-1.html#TcfCreateFillerGuides" title="tools1func">TcfCreateFillerGuides</a> form->cvId form->layerField->value)
   form->lstGuideShapes)) ) t
  )) <a name="TcfClearFillerGuides"></a>
<a name="TcfClearFillerGuides"></a><span><a href="../tools1func.html#TcfClearFillerGuides"><img src="./images/small-prev.gif" title="Skill/Skill++Doc Manual entry" alt="" border="0" /></a> <br /></span>(<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_7.html#IDX173" title="R5RS Skill/Skill++ form">defun</a> <span class="signature">TcfClearFillerGuides</span> (form)
  (let (obj )
 (foreachs shape (TccFlattenList (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX332" title="R5RS Skill/Skill++ form">list</a> form->lstGuideShapes))
  (<a class="scheme-syntax-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_6.html#IDX103" title="R5RS Skill/Skill++ form">if</a> (dbIsId shape)
   (dbDeleteObject shape)
  )) 
  (mapcar 'dbDeleteObject (setofs x form->cvId->shapes (equal (<a class="scheme-procedure-name" href="file:///p/advda/elisp/doctool/schemedoc/r5rs/r5rs_8.html#IDX325" title="R5RS Skill/Skill++ form">cadr</a> x~>lpp) (TcfGetDefaultLPPGuidePurpose ?cvId form->cvId))))
 t
  )) </pre></font><div>&nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p> &nbsp; <p></p></div></body></html>